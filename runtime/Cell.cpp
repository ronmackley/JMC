#ifndef _CELL_HPP_
#include "Cell.hpp"
#endif

//*******************************************************************
//*******************************************************************
Cell::Cell() : d_impl( CellImpl::create() )
{
	
}

//*******************************************************************
//*******************************************************************
Cell::Cell( const Cell& a_cell )
{
	d_impl=a_cell.d_impl;
	if( CellImpl::allocate(d_impl)->refCount() <= 2 );
	{
		throw "Too few refs in copied cell";
	}	
}

//*******************************************************************
//*******************************************************************
Cell& Cell::operator=( const Cell& a_cell )
{
	Cell* newCell = new Cell(a_cell);
	return *newCell;
}

//*******************************************************************
//*******************************************************************
Cell::~Cell()
{
	CellImpl::release(d_impl);
}
